<div class="search-model">
    <div class="h-100 d-flex align-items-center justify-content-center">
        <div class="search-close-switch">+</div>
        <form class="search-model-form">
            <input type="text" id="search-input" placeholder="Search here.....">
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
<link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.nice-select.min.js"></script>
<script src="js/jquery.nicescroll.min.js"></script>
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/jquery.countdown.min.js"></script>
<script src="js/jquery.slicknav.js"></script>
<script src="js/mixitup.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/main.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const currentPath = window.location.pathname;
        const menuItems = document.querySelectorAll('.header__menu ul li');
        menuItems.forEach(item => {
            item.classList.remove('active');
            const href = item.querySelector('a').getAttribute('href');
            if (href === currentPath) {
                item.classList.add('active');
            }
        });
    });
    document.addEventListener('DOMContentLoaded', function () {
        var isNewUser = false;
<% if (typeof isNewUser !== 'undefined') { %>
            isNewUser = <%= isNewUser %>;
<% } %>

if (isNewUser) {
            const tooltip = document.querySelector('.profile-tooltip');
            if (tooltip) {
                tooltip.style.display = 'block';
                tooltip.style.opacity = '0';
                tooltip.style.transform = 'translateX(-50%) translateY(5px)';
                tooltip.style.transition = 'all 0.2s ease';

                setTimeout(function () {
                    tooltip.style.opacity = '1';
                    tooltip.style.transform = 'translateX(-50%) translateY(0)';
                }, 100);

                setTimeout(function () {
                    tooltip.style.opacity = '0';
                    tooltip.style.transform = 'translateX(-50%) translateY(-5px)';

                    setTimeout(function () {
                        tooltip.style.display = 'none';
                        fetch('/remove-new-user-flag').then(function () {
                        }).catch(function (error) {
                            console.log('Error removing new user flag:', error);
                        });
                    }, 200);
                }, 10000);
            }
        }
    });
    document.addEventListener('DOMContentLoaded', function () {
        // Get the canvas open button and the mobile menu
        const canvasOpen = document.querySelector('.canvas__open');
        const mobileMenu = document.querySelector('.mobile-menu');
        const navOptions = document.querySelector('.header__nav__option');

        // Initialize mobile menu state
        let isMenuOpen = false;

        // Create mobile menu overlay
        const overlay = document.createElement('div');
        overlay.className = 'mobile-menu-overlay';
        document.body.appendChild(overlay);

        function toggleMobileMenu() {
            isMenuOpen = !isMenuOpen;

            canvasOpen.classList.toggle('active');

            if (isMenuOpen) {
                // Clone nav options and append to mobile menu if not already present
                if (!document.querySelector('.mobile-menu .header__nav__option')) {
                    const navClone = navOptions.cloneNode(true);
                    mobileMenu.appendChild(navClone);
                }
                
                mobileMenu.style.display = 'block';
                mobileMenu.style.transform = 'translateX(0)';
                overlay.style.display = 'block';
                document.body.style.overflow = 'hidden';
            } else {
                mobileMenu.style.transform = 'translateX(-100%)';
                overlay.style.display = 'none';
                document.body.style.overflow = '';
                setTimeout(() => {
                    mobileMenu.style.display = 'none';
                }, 300);
            }
        }

        canvasOpen.addEventListener('click', function (e) {
            e.preventDefault();
            toggleMobileMenu();
        });

        overlay.addEventListener('click', function () {
            if (isMenuOpen) {
                toggleMobileMenu();
            }
        });

        window.addEventListener('resize', function () {
            if (window.innerWidth > 768 && isMenuOpen) {
                toggleMobileMenu();
            }
        });
    });
</script>
</body>
</html>